<%- include('../components/head.ejs') %>

    <%- include('../components/nav.ejs') %>
        <link rel="stylesheet" href="css/orderApostille.css">

        <section>
            <div class="container">
                <h1>
                    Order Apostille
                </h1>
                <div class="row justify-content-around">
                    <div class="col-md-4">
                        <ul>
                            <li>
                                Please upload your files
                            </li>
                            <li>
                                Each file needs to be apostilled individually.
                            </li>
                            <li>
                                You can upload as many files as you need <br>
                                no limits, no restrictions!
                            </li>
                        </ul>
                        <div class="img-holder">
                            <img src="/img/apostilledocument.jpg" alt="Apostille Document" style="max-width: 100%;">
                        </div>
                    </div>
                    <div class="col-md-8 ps-3">
                        
                        <form method="post" action="/apostille-order" enctype="multipart/form-data">
                            <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="email" class="form-label">Email address</label>
                                        <input type="email" class="form-control" id="email" name="email"
                                            aria-describedby="emailHelp" required>
                                        <div id="emailHelp" class="form-text">We'll never share your email with anyone else.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="name" class="form-label">Name</label>
                                        <input type="text" class="form-control" id="name" name="name" required>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="mb-3">
                                        <label for="address" class="form-label">Address</label>
                                        <input type="text" class="form-control" id="address" name="address"
                                            aria-describedby="addressHelp" required>
                                        <div id="addressHelp" class="form-text">We'll never share your address with anyone else.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="mb-3">
                                        <label for="phone" class="form-label">Phone</label>
                                        <input type="tel" class="form-control" id="phone" name="phone" required>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label for="country" class="form-label">Destination Country of use</label>
                                    <select name="country" id="country" class="form-select" required>
                                        <option value="- Select country -" disabled>- Select country -</option>
                                        <option value="Albania">Albania</option>
                                        <option value="Andorra">Andorra</option>
                                        <option value="Antigua and Barbuda">Antigua and Barbuda</option>
                                        <option value="Argentina">Argentina</option>
                                        <option value="Armenia">Armenia</option>
                                        <option value="Australia">Australia</option>
                                        <option value="Austria">Austria</option>
                                        <option value="Azerbaijan">Azerbaijan</option>
                                        <option value="Bahamas">Bahamas</option>
                                        <option value="Bahrain">Bahrain</option>
                                        <option value="Barbados">Barbados</option>
                                        <option value="Belarus">Belarus</option>
                                        <option value="Belgium">Belgium</option>
                                        <option value="Belize">Belize</option>
                                        <option value="Bolivia">Bolivia</option>
                                        <option value="Bosnia and Herzegovina">Bosnia and Herzegovina</option>
                                        <option value="Brazil">Brazil</option>
                                        <option value="Bulgaria">Bulgaria</option>
                                        <option value="Canada">Canada</option>
                                        <option value="Cape Verde">Cape Verde</option>
                                        <option value="Chile">Chile</option>
                                        <option value="China">China</option>
                                        <option value="Colombia">Colombia</option>
                                        <option value="Costa Rica">Costa Rica</option>
                                        <option value="Croatia">Croatia</option>
                                        <option value="Cyprus">Cyprus</option>
                                        <option value="Czech Republic">Czech Republic</option>
                                        <option value="Denmark">Denmark</option>
                                        <option value="Dominican Republic">Dominican Republic</option>
                                        <option value="Ecuador">Ecuador</option>
                                        <option value="El Salvador">El Salvador</option>
                                        <option value="Estonia">Estonia</option>
                                        <option value="Fiji">Fiji</option>
                                        <option value="Finland">Finland</option>
                                        <option value="France">France</option>
                                        <option value="Georgia">Georgia</option>
                                        <option value="Germany">Germany</option>
                                        <option value="Greece">Greece</option>
                                        <option value="Guatemala">Guatemala</option>
                                        <option value="Honduras">Honduras</option>
                                        <option value="Hong Kong">Hong Kong</option>
                                        <option value="Hungary">Hungary</option>
                                        <option value="Iceland">Iceland</option>
                                        <option value="India">India</option>
                                        <option value="Indonesia">Indonesia</option>
                                        <option value="Ireland">Ireland</option>
                                        <option value="Israel">Israel</option>
                                        <option value="Italy">Italy</option>
                                        <option value="Japan">Japan</option>
                                        <option value="Jamaica">Jamaica</option>
                                        <option value="Kazakhstan">Kazakhstan</option>
                                        <option value="Latvia">Latvia</option>
                                        <option value="Liechtenstein">Liechtenstein</option>
                                        <option value="Lithuania">Lithuania</option>
                                        <option value="Luxembourg">Luxembourg</option>
                                        <option value="Macao">Macao</option>
                                        <option value="Malawi">Malawi</option>
                                        <option value="Malta">Malta</option>
                                        <option value="Marshall Islands">Marshall Islands</option>
                                        <option value="Mauritius">Mauritius</option>
                                        <option value="Mexico">Mexico</option>
                                        <option value="Moldova">Moldova</option>
                                        <option value="Monaco">Monaco</option>
                                        <option value="Mongolia">Mongolia</option>
                                        <option value="Montenegro">Montenegro</option>
                                        <option value="Morocco">Morocco</option>
                                        <option value="Netherlands">Netherlands</option>
                                        <option value="New Zealand">New Zealand</option>
                                        <option value="Nicaragua">Nicaragua</option>
                                        <option value="North Macedonia">North Macedonia</option>
                                        <option value="Norway">Norway</option>
                                        <option value="Oman">Oman</option>
                                        <option value="Pakistan">Pakistan</option>
                                        <option value="Panama">Panama</option>
                                        <option value="Paraguay">Paraguay</option>
                                        <option value="Peru">Peru</option>
                                        <option value="Philippines">Philippines</option>
                                        <option value="Poland">Poland</option>
                                        <option value="Portugal">Portugal</option>
                                        <option value="Romania">Romania</option>
                                        <option value="Russian Federation">Russian Federation</option>
                                        <option value="Saint Kitts and Nevis">Saint Kitts and Nevis</option>
                                        <option value="Saint Lucia">Saint Lucia</option>
                                        <option value="Saint Vincent and the Grenadines">Saint Vincent and the Grenadines
                                        </option>
                                        <option value="Samoa">Samoa</option>
                                        <option value="San Marino">San Marino</option>
                                        <option value="Saudi Arabia">Saudi Arabia</option>
                                        <option value="Senegal">Senegal</option>
                                        <option value="Serbia">Serbia</option>
                                        <option value="Seychelles">Seychelles</option>
                                        <option value="Singapore">Singapore</option>
                                        <option value="Slovakia">Slovakia</option>
                                        <option value="Slovenia">Slovenia</option>
                                        <option value="South Africa">South Africa</option>
                                        <option value="South Korea ">South Korea</option>
                                        <option value="Spain">Spain</option>
                                        <option value="Suriname">Suriname</option>
                                        <option value="Swaziland">Swaziland</option>
                                        <option value="Sweden">Sweden</option>
                                        <option value="Switzerland">Switzerland</option>
                                        <option value="Trinidad and Tobago">Trinidad and Tobago</option>
                                        <option value="Tunisia">Tunisia</option>
                                        <option value="Turkey">Turkey</option>
                                        <option value="Ukraine">Ukraine</option>
                                        <option value="United Kingdom of Great Britain">United Kingdom of Great Britain
                                        </option>
                                        <option value="Uruguay">Uruguay</option>
                                        <option value="Uzbekistan">Uzbekistan</option>
                                        <option value="Venezuela">Venezuela</option>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <div class="upload-docs-container">
                                <div class="row align-items-center original-row">
                                    <div class="mb-3 col-md-4">
                                        <label for="document1" class="form-label">Upload Your document #1 </label>
                                        <input type="file" name="files[]" required id="document1"
                                            class="files-input form-control">
                                    </div>
                                    <div class="mb-3 col-md-4">
                                        <label for="documentType1" class="form-label">Document Type</label>
                                        <select name="documents[]" id="documentType1" class="form-select document-name" required>
                                            <optgroup label="FDA" value="fda">
                                                <option value="fda">Certificate of Environmental Protection Agency
                                                </option>
                                                <option value="fda">Certificate of Exportability</option>
                                                <option value="fda">Certificate of Foreign Government (CFG)</option>
                                                <option value="fda">Certificate of Pharmaceutical Products (CPP)
                                                </option>
                                                <option value="fda">Certified copy of Naturalization from Homeland
                                                    Security</option>
                                                <option value="fda">Export Certificate for Animal Products</option>
                                                <option value="fda">FBI Background Check</option>
                                                <option value="fda">Free Sale Certificate issued by the FDA</option>
                                                <option value="fda">USDA Animal Health Certificate</option>
                                                <option value="fda">USPTO Patent Certificate</option>
                                                <option value="fda">USPTO Trademark Certificate</option>
                                            </optgroup>
                                            <optgroup label="Corporate" value="corporate">
                                                <option value="corporate">Agency Agreement <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Amendments Certificate (issued by corporation
                                                    office)</option>
                                                <option value="corporate">Articles of Incorporation</option>
                                                <option value="corporate">Certificate of Analysis <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Certificate of Existence</option>
                                                <option value="corporate">Certificate of Incorporation</option>
                                                <option value="corporate">Certificate of Registration</option>
                                                <option value="corporate">Certificate of Status</option>
                                                <option value="corporate">Declaration of Conformity <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Distribution Agreement <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Document Printed from a website (source must
                                                    be provided)</option>
                                                <option value="corporate">Export Declaration <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Good Standing Certificate</option>
                                                <option value="corporate">Manufacturing License <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Operating Agreement <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Supplier Certificate <small>(must be
                                                        notarized)</small></option>
                                                <option value="corporate">Technical Data Sheet <small>(must be
                                                        notarized)</small></option>
                                            </optgroup>
                                          
                                            <optgroup label="ISO" value="iso">
                                                <option value="iso">BSI Certificate</option>
                                                <option value="iso">DQS Certificate</option>
                                                <option value="iso">EC Certificate</option>
                                                <option value="iso">ISO Certificate</option>
                                                <option value="iso">SGS Certificate</option>
                                                <option value="iso">TUV Certificate</option>
                                            </optgroup>
                                            <optgroup label="Shipping" value="shipping">
                                                <option value="shipping">Certificate of Origin</option>
                                                <option value="shipping">Commercial Invoice</option>
                                                <option value="shipping">Packing List</option>
                                            </optgroup>
                                        </select>

                                    </div>
                                    <div class="col-md-4">
                                        <a role="button" class="addMore">
                                            Add aonther document
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-order" type="submit">
                                Order
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <script>
            let fileCount = 1; // Initialize a counter for unique IDs
            let x = []
            // Use event delegation to listen for clicks on the "Add another document" button
            document.querySelector('.container').addEventListener('click', function (e) {
                if (e.target && e.target.classList.contains('addMore')) {
                    e.preventDefault(); // Prevent default behavior of the link

                    fileCount++; // Increment the counter for unique IDs
                    // Clone the original row
                    const originalRow = e.target.closest(".original-row");
                    const newRow = originalRow.cloneNode(true);

                    // Update the ID of the new input and remove "required" attribute
                    const input = newRow.querySelector('.files-input');
                    input.id = `document${fileCount}`;
                    input.required = false; // Remove the required attribute
                    const select = newRow.querySelector('.document-name');
                    select.id = `documentType${fileCount}`;
                    select.required = false; // Remove the required attribute

                    // Update the label to reflect the new document number
                    const label = newRow.querySelector('.form-label');
                    label.setAttribute('for', `document${fileCount}`);
                    label.textContent = `Upload Your document #${fileCount}`;

                    // Remove the "Add another document" button from cloned rows
                    const addMoreBtn = originalRow.querySelector('.addMore');
                    if (addMoreBtn) addMoreBtn.remove();

                    // Append the new row to the container
                    document.querySelector('.upload-docs-container').appendChild(newRow);

                    // Move the "Add another document" button to the last row
                    const lastRow = newRow.querySelector('.col-md-4');
                    // lastRow.appendChild(document.querySelector('.addMore'));
                }
            });
        </script>
        <%- include('../components/footer.ejs') %>